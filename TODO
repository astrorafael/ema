Prioridad alta
==============

*) Topic MQTT
	  EMA/register
	  EMA/<channel>/events
	  EMA/<channel>/current/state
	  EMA/<channel>/historic/minmax
	  EMA/<channel>/historic/dailyaverage
*) Eventos JSON (¿con retained?)
   - Ya estoy en linea de nuevo
   - error de registro
   - error en bulk dump
*) Servicio MQTTClient para stars4all


import json
import datetime
import re


class DateTimeEncoder(json.JSONEncoder):

    def default(self, o):
        if  isinstance(o, datetime.datetime):
            return o.strftime("%Y-%m-%dT%H:%M:%S")

        # Let the base class default method raise the TypeError
        return json.JSONEncoder.default(self, o)


Prioreidad baja
===============
*) API REST de telegestion por HTTP (Usar klein?)
mirar diseño de API en http://dev.enchant.com/api/v1
*) Repasar unidades, escala y rango  de los comandos
